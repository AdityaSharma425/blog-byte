<!DOCTYPE html>
<html lang="en">
<head>
    <%- include('./partials/head.ejs') %>
    <title>Filtered Blogs</title>
</head>
<body>
    <%- include('./partials/nav.ejs') %>
    <div class="container6 mt-4">
        <h1 class="title">Filtered Blogs</h1>
        
        
      
        
        <div class="row row-cols-3 row-cols-md-3 g-2 py-5">
          <% blogs.forEach(blog => { %>
          <div class="col">
            <div class="card">
              <img src="<%= blog.coverImageURL %>" class="card-img-top">

              <div class="card-body">
                <h5 class="card-title"><%= blog.title %></h5>
                <h6 class="card-text"><%= blog.category %></h6>
                <h6 class="card-text"><%= blog.createdAt.toLocaleDateString('en-US', { weekday: 'long', day: 'numeric', month: 'long', year: 'numeric' }) %></h6>
              </div>
              <div class="mb-5 d-flex justify-content-around">
                
                <a href="/blog/<%= blog._id %>" id="viewBlog">View</a>
            </div>
            </div>


          </div>
          <% }) %>
      <% if (blogs.length === 0) { %>
        <div class="container mt-3">
            <h2>No Blogs </h2>
        </div>
    <% } %>
        </div>

        
        
      </div>

      <div class="container5 mt-4">
        
        <div class="wrapper2">
          <form action="/blog/search" method="post" id="searchform">
          <div class="searchBar">
            
             <input id="searchQueryInput" type="search" name="search" placeholder="Search" value="" />
             <button id="searchQuerySubmit" type="submit" name="searchQuerySubmit">
               <svg style="width:24px;height:24px" viewBox="0 0 24 24"><path fill="#666666" d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z" />
               </svg>
             </button>
        
           </div>
          </form>
         
       

        <div class="category mt-4">
        <form action="/blog/filter" method="post">
          <select name="category" id="category">
            <option value="Select Category">Select Category</option>
            <option value="Technology">Technology</option>
            <option value="Health">Health</option>
            <option value="Science">Science</option>
            <option value="Travel">Travel</option>
            <option value="Food">Food</option>
            <option value="Fashion">Fashion</option>
            <option value="Sports">Sports</option>
            <option value="Music">Music</option>
            <option value="Movies">Movies</option>                
            <option value="Books">Books</option>
          </select> 
          <button type="submit" class="filterbtn">Filter</button>
        </form>
        </div>
      </div>
      </div>
      <div class="footerCss">
        <%- include('./partials/footer.ejs') %>
      </div>
    <%- include('./partials/scripts.ejs') %>

</body>
</html>